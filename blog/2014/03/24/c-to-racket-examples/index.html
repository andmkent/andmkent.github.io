<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <title>C to Racket Examples</title>
    <meta name="description" content="Racket and C:  This post is a collection of simple C code snippets and roughly equivalent Racket code.  Hopefully if you're coming from a C background (or similar) and you're struggling to make sense of Racket code, these examples will assist in clearing ...">
    <meta name="author"      content="Andrew M. Kent">
    <meta name="keywords"    content="Racket, C">
    <meta name="viewport"    content="width=device-width, initial-scale=1.0">
    <link rel="icon"      href="/favicon.ico">
    <link rel="canonical" href="http://www.example.com/blog/2014/03/24/c-to-racket-examples/">
    <link rel="next" href="/blog/2014/02/06/total-list-functions/">
    <link rel="prev" href="/blog/2014/11/10/dependently-typed-quicksort/">
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/pygments.css">
    <link rel="stylesheet" type="text/css" href="/css/scribble.css">
    <link rel="stylesheet" type="text/css" href="/css/custom.css">
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Noto+Sans" />
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Source+Code+Pro" />
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml"
          href="/feeds/all.atom.xml" title="Atom Feed">
    <link rel="alternate" type="application/rss+xml"
          href="/feeds/all.rss.xml" title="RSS Feed">
    <!-- JS -->
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-xxxxx', 'auto');
      ga('send', 'pageview');
    </script>
  </head>
  <body>
    <!-- A standard Twitter Bootstrap nav bar -->
    <header class="navbar navbar-default"
            role="banner">
      <div class="container">
        <div class="navbar-header">
          <button type="button"
                  class="navbar-toggle"
                  data-toggle="collapse"
                  data-target=".our-nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="/index.html"
          class="navbar-brand">Andrew M. Kent</a>
        </div>
        <div class="collapse navbar-collapse our-nav-collapse"
             role="navigation">
          <ul class="nav navbar-nav">

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Post Tags<b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="/index.html">All Posts</a></li>

<li><a href="/tags/C.html">C</a></li>

<li><a href="/tags/Coq.html">Coq</a></li>

<li><a href="/tags/Dependent-Types.html">Dependent Types</a></li>

<li><a href="/tags/Program-Verification.html">Program Verification</a></li>

<li><a href="/tags/Racket.html">Racket</a></li>

<li><a href="/tags/Typed-Racket.html">Typed Racket</a></li>
              </ul>
            </li>
            <li><a href="/docs/amkcv.pdf">CV</a></li>
            <li><a href="https://github.com/andmkent">Github</a></li>
            <li><a href="https://twitter.com/andmkent_">Twitter</a></li>
          </ul>
        </div>
      </div>
    </header>
    <div class="container">
      <div class="row">

        <!-- Main column -->
        <div id="content" class="col-md-12">





          <article>
  <header>
    <h1>C to Racket Examples</h1>
    <p class='date-and-tags'>
<time datetime="2014-03-24" pubdate="true">2014-03-24</time> :: <span class="tags"><a href="/tags/Racket.html">Racket</a>, <a href="/tags/C.html">C</a></span></p>
  </header>

<h3 id="racket-and-c">Racket and C</h3>

<p>This post is a collection of simple C code snippets and roughly equivalent Racket code.</p>

<p>Hopefully if you&rsquo;re coming from a C background (or similar) and you&rsquo;re struggling to make sense of Racket code, these examples will assist in clearing the fog and help bring about the utter bliss that is programming in Racket =)</p>
<!-- more-->

<br />

<div class="figure"><img src="http://imgs.xkcd.com/comics/lisp_cycles.png" alt="Racket is a descendant of Lisp (comic from
 [xkcd](http://www.xkcd.com))" />
 <p class="caption">Racket is a descendant of Lisp (comic from  <a href="http://www.xkcd.com">xkcd</a>)</p></div>

<br />

<h3 id="i-need-more">&ldquo;I need more!&rdquo;</h3>

<p>If you wish for a more in depth introduction to Racket, I recommend perusing the excellent <a href="http://docs.racket-lang.org/guide/">Racket Guide</a>. If you&rsquo;re curious about a particular function the <a href="http://docs.racket-lang.org/">Racket manuals</a> are a great resource. If I&rsquo;ve configured the page correctly, library functions in the code snippets should link to their manual entries.</p>

<br />

<p><em>If your beginning your first venture into the world of  <a href="http://en.wikipedia.org/wiki/Functional_programming">functional  programming</a>,  you&rsquo;ll want to do some reading to understand the norms of this world  vs. what&rsquo;s likely been ingrained into your being from years of  imperative programming (sorry I don&rsquo;t have a good reference for this  as I&rsquo;m writing this&hellip;)</em></p>

<p><em>Also, neither the C nor the Racket code is meant to be the epitome  of elegance or ideal programming - they&rsquo;re merely there to  demonstrate how things might be expressed in each language.</em></p>

<br />

<h2 id="table-of-contents">Table of Contents</h2>

<ol>
 <li><a href="#preproc">Preprocessor Commands</a></li>
 <li><a href="#variab">Values and Variables</a></li>
 <li><a href="#arith">Arithmetic</a></li>
 <li><a href="#struct">Structures</a></li>
 <li><a href="#array">Array Indexing</a></li>
 <li><a href="#scope">Local/Scoped Definitions</a></li>
 <li><a href="#fun">Functions and Conditionals</a></li>
 <li><a href="#rec">Recursion</a></li>
 <li><a href="#list">Lists and Loops</a></li>
 <li><a href="#other">Other</a></li></ol>

<br />

<h2 id="preprocpreprocessor-stuff"><a name="preproc"></a>Preprocessor stuff</h2>

<h4 id="c-includes">C includes</h4>

<div class="brush: c">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4
5
6
7</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>
<span class="cp">#include &lt;string.h&gt;</span>
<span class="cp">#include &lt;stdbool.h&gt;</span>
<span class="cp">#include &lt;math.h&gt;</span>
<span class="cp">#include &lt;ctype.h&gt;</span>
<span class="cp">#include &lt;assert.h&gt; </span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="racket-lang-and-requires">Racket #lang and requires</h4>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="kn">#lang </span><span class="nn">racket</span>
<span class="c1">; we&#39;ll just need the testing suite "rackunit"</span>
<span class="c1">; the rest is included in the default racket language</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/require.html#(form._((lib._racket/private/base..rkt)._require))" style="color: inherit">require</a></span> <span class="n">rackunit</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table>
</div>

<br />

<h2 id="variabvalues-and-variables"><a name="variab"></a>Values and Variables</h2>

<h3 id="declaration-and-initialization">Declaration and initialization</h3>

<h4 id="c-data">C data</h4>

<div class="brush: c">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4
5
6
7
8</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="kt">int</span> <span class="n">b1</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span> <span class="c1">// true</span>
<span class="kt">int</span> <span class="n">b2</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span> <span class="c1">// false (only 0 is false)</span>
<span class="kt">int</span> <span class="n">x</span>  <span class="o">=</span> <span class="mi">5</span><span class="p">;</span> <span class="c1">// int</span>
<span class="kt">int</span> <span class="n">pi</span> <span class="o">=</span> <span class="mf">3.14</span><span class="p">;</span> <span class="c1">// float </span>
<span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="sc">&#39;a&#39;</span><span class="p">;</span> <span class="c1">// char</span>
<span class="kt">char</span><span class="o">*</span> <span class="n">str</span> <span class="o">=</span> <span class="s">"Hello World!"</span><span class="p">;</span> <span class="c1">// string</span>

<span class="kt">int</span> <span class="n">fibs</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">};</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="racket-data">Racket data</h4>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="n">b1</span> <span class="no">#t</span><span class="p">)</span> <span class="c1">; true, #true is equivalent</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="n">b2</span> <span class="no">#f</span><span class="p">)</span> <span class="c1">; false, #false is equivalent (the only false value)</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="n">x</span> <span class="mi">5</span><span class="p">)</span> <span class="c1">; exact-integer</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((lib._racket/math..rkt)._pi))" style="color: inherit">pi</a></span> <span class="mf">3.14</span><span class="p">)</span> <span class="c1">; flonum</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="n">c</span> <span class="sc">#\a</span><span class="p">)</span> <span class="c1">; character</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="n">str</span> <span class="s2">"Hello World!"</span><span class="p">)</span> <span class="c1">; string</span>

<span class="c1">; singly linked list</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="n">fibslist</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" style="color: inherit">list</a></span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span><span class="p">))</span>
<span class="c1">; fixed-length array with constant-time access</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="n">fibsvec</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/vectors.html#(def._((quote._~23~25kernel)._vector))" style="color: inherit">vector</a></span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span><span class="p">))</span>
</pre></div>
</td></tr></tbody></table>
</div>

<p>Note: small note, by default Racket lists are immutable and vectors are mutable. Alternate versions of either are available as well (see docs).</p>

<h3 id="assignment-mutation">Assignment (Mutation)</h3>

<h4 id="c-assignment-mutation">C Assignment (Mutation)</h4>

<div class="brush: c">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="c1">// initialization</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span> <span class="c1">// assignment/mutation</span>
<span class="n">assert</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">5</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="racket-mutation">Racket Mutation</h4>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="n">x</span> <span class="mi">10</span><span class="p">)</span> <span class="c1">; initialization</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/set_.html#(form._((quote._~23~25kernel)._set!))" style="color: inherit">set!</a></span> <span class="n">x</span> <span class="mi">5</span><span class="p">)</span> <span class="c1">; mutation</span>
<span class="p">(</span><span class="n">check-equal?</span> <span class="n">x</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table>
</div>

<br />

<h2 id="aritharithmetic"><a name="arith"></a>Arithmetic</h2>

<h4 id="c-math">C math</h4>

<div class="brush: c">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4
5</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span><span class="p">;</span>
<span class="n">assert</span><span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="mi">6</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">z</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span> <span class="o">+</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="mi">3</span><span class="p">))</span> <span class="o">/</span> <span class="mi">5</span><span class="p">;</span>
<span class="n">assert</span><span class="p">(</span><span class="n">z</span> <span class="o">==</span> <span class="mi">2</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="racket-math">Racket math</h4>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4
5
6
7</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="n">y</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._+))" style="color: inherit">+</a></span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">))</span>
<span class="p">(</span><span class="n">check-equal?</span> <span class="n">y</span> <span class="mi">6</span><span class="p">)</span>

<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="n">z</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._/))" style="color: inherit">/</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._+))" style="color: inherit">+</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" style="color: inherit">*</a></span> <span class="mi">2</span> <span class="mi">3</span><span class="p">)</span>
                <span class="mi">4</span><span class="p">)</span>
             <span class="mi">5</span><span class="p">))</span>
<span class="p">(</span><span class="n">check-equal?</span> <span class="n">z</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table>
</div>

<br />

<h2 id="structstructures"><a name="struct"></a>Structures</h2>

<h3 id="structure-definitions">Structure Definitions</h3>

<h4 id="c-structs">C structs</h4>

<div class="brush: c">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="k">struct</span> <span class="n">point</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">x</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">y</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="racket-structs">Racket structs</h4>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define-struct.html#(form._((lib._racket/private/base..rkt)._define-struct))" style="color: inherit">define-struct</a></span> <span class="n">point</span> <span class="p">(</span><span class="n">x</span> <span class="n">y</span><span class="p">))</span>
</pre></div>
</td></tr></tbody></table>
</div>

<p>Note: small note, Racket structs are immutable by default. Mutable structs are available (see docs).</p>

<h3 id="structure-usage">Structure Usage</h3>

<h4 id="c-struct-accessors">C struct accessors</h4>

<div class="brush: c">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="k">struct</span> <span class="n">point</span> <span class="n">p</span> <span class="o">=</span> <span class="p">{.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">4</span><span class="p">};</span>
<span class="n">assert</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">x</span> <span class="o">==</span> <span class="mi">3</span><span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">y</span> <span class="o">==</span> <span class="mi">4</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="racket-struct-accessors">Racket struct accessors</h4>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="n">p</span> <span class="p">(</span><span class="n">point</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">))</span>
<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="n">point-x</span> <span class="n">p</span><span class="p">)</span> <span class="mi">3</span><span class="p">)</span>
<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="n">point-y</span> <span class="n">p</span><span class="p">)</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table>
</div>

<br />

<h2 id="arrayconstant-time-array-access"><a name="array"></a>Constant-time array access</h2>

<h4 id="c-array-indexing">C array indexing</h4>

<div class="brush: c">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="kt">int</span> <span class="n">fibs</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">};</span>
<span class="n">assert</span><span class="p">(</span><span class="n">fibs</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="racket-vector-ref">Racket vector-ref</h4>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="n">fibs</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/vectors.html#(def._((quote._~23~25kernel)._vector))" style="color: inherit">vector</a></span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span><span class="p">))</span>
<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/vectors.html#(def._((quote._~23~25kernel)._vector-ref))" style="color: inherit">vector-ref</a></span> <span class="n">fibs</span> <span class="mi">4</span><span class="p">)</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h2 id="scopelocalscoped-definitions-blocks-and-lets"><a name="scope"></a>Local/Scoped Definitions (blocks and lets)</h2>

<h4 id="c--blocks">C {} blocks</h4>

<div class="brush: c">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>

<span class="p">{</span>
    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
    <span class="n">assert</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">10</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">assert</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">5</span><span class="p">);</span>

<span class="p">{</span>
   <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">10</span><span class="p">;</span>
   <span class="n">assert</span><span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="mi">11</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">assert</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">5</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="racket-let-expressions">Racket let expressions</h4>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="n">x</span> <span class="mi">5</span><span class="p">)</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" style="color: inherit">let</a></span> <span class="p">([</span><span class="n">x</span> <span class="mi">10</span><span class="p">])</span>
  <span class="p">(</span><span class="n">check-equal?</span> <span class="n">x</span> <span class="mi">10</span><span class="p">))</span>

<span class="p">(</span><span class="n">check-equal?</span> <span class="n">x</span> <span class="mi">5</span><span class="p">)</span>

<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let*))" style="color: inherit">let*</a></span> <span class="p">([</span><span class="n">x</span> <span class="mi">1</span><span class="p">]</span>
       <span class="p">[</span><span class="n">y</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._+))" style="color: inherit">+</a></span> <span class="n">x</span> <span class="mi">10</span><span class="p">)])</span>
  <span class="p">(</span><span class="n">check-equal?</span> <span class="n">y</span> <span class="mi">11</span><span class="p">))</span>

<span class="p">(</span><span class="n">check-equal?</span> <span class="n">x</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table>
</div>

<p><em>Note: let* allows definitions to reference identifiers previously declared in the list of let bindings</em></p>

<br />

<h2 id="funfunction-definitions"><a name="fun"></a>Function Definitions</h2>

<h3 id="basic-functions">Basic Functions</h3>

<h4 id="c-simple-function">C simple function</h4>

<div class="brush: c">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4
5</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="kt">int</span> <span class="nf">square</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">assert</span><span class="p">(</span><span class="n">square</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="mi">9</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="racket-simple-function">Racket simple function</h4>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">square</span> <span class="n">x</span><span class="p">)</span>
  <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" style="color: inherit">*</a></span> <span class="n">x</span> <span class="n">x</span><span class="p">))</span>

<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="n">square</span> <span class="mi">3</span><span class="p">)</span> <span class="mi">9</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table>
</div>

<p><em>Note: C functions are a series of statements with some specified &ldquo;return&rdquo; statement that dictates what the function call evaluates to (except for void, but you get the idea). Racket functions are more like a mathematical expression that is merely simplified/evaluated to some value and that value is returned.</em></p>

<h3 id="functions-that-require-in-order-execution">Functions that <em>require</em> in order execution</h3>

<h4 id="c-command-line-interaction">C command line interaction</h4>

<div class="brush: c">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="kt">int</span> <span class="nf">square_input</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">char</span> <span class="n">str</span><span class="p">[</span><span class="mi">50</span><span class="p">];</span>
    <span class="kt">int</span> <span class="n">num</span><span class="p">;</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s"> Enter input: "</span><span class="p">);</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">"%[^</span><span class="se">\n</span><span class="s">]+"</span><span class="p">,</span> <span class="n">str</span><span class="p">);</span>

    <span class="n">num</span> <span class="o">=</span> <span class="n">atoi</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>

    <span class="k">return</span> <span class="n">num</span> <span class="o">*</span> <span class="n">num</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Enter number: 7</span>
<span class="c1">// 49</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="racket-command-line-interaction--begin">Racket command line interaction &amp; begin</h4>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4
5
6
7
8</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">square-input</span><span class="p">)</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/begin.html#(form._((quote._~23~25kernel)._begin))" style="color: inherit">begin</a></span>
    <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/Writing.html#(def._((quote._~23~25kernel)._printf))" style="color: inherit">printf</a></span> <span class="s2">"</span><span class="se">\n</span><span class="s2"> Enter number: "</span><span class="p">)</span>
    <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="n">input</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/Reading.html#(def._((quote._~23~25kernel)._read))" style="color: inherit">read</a></span><span class="p">))</span>
    <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" style="color: inherit">*</a></span> <span class="n">input</span> <span class="n">input</span><span class="p">)))</span>

<span class="c1">; Enter number: 9</span>
<span class="c1">; 81</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h3 id="functions-with-conditional-control-flow">Functions with Conditional Control Flow</h3>

<h4 id="c-if-else">C if-else</h4>

<div class="brush: c">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4
5
6
7
8
9</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="kt">int</span> <span class="nf">int_abs</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">x</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="k">return</span> <span class="n">x</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">assert</span><span class="p">(</span><span class="n">int_abs</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="n">int_abs</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="racket-if-else">Racket if-else</h4>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4
5
6
7</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">int-abs</span> <span class="n">x</span><span class="p">)</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((quote._~23~25kernel)._if))" style="color: inherit">if</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3c))" style="color: inherit">&lt;</a></span> <span class="n">x</span> <span class="mi">0</span><span class="p">)</span>
      <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" style="color: inherit">*</a></span> <span class="mi">-1</span> <span class="n">x</span><span class="p">)</span>
      <span class="n">x</span><span class="p">))</span>

<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="n">int-abs</span> <span class="mi">1</span><span class="p">)</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="n">int-abs</span> <span class="mi">-1</span><span class="p">)</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="c-if-else-if-else-if">C if-else-if-else-if&hellip;</h4>

<div class="brush: c">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="c1">// returns number of real roots that exist</span>
<span class="kt">int</span> <span class="nf">real_quad_roots</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">,</span> <span class="kt">int</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">float</span> <span class="n">d</span> <span class="o">=</span> <span class="p">(</span><span class="n">b</span><span class="o">*</span><span class="n">b</span><span class="p">)</span> <span class="o">-</span> <span class="mf">4.0</span><span class="o">*</span><span class="n">a</span><span class="o">*</span><span class="n">c</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">d</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">d</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// (2x+2)(x-5) = 2x^2 - 8x - 10</span>
<span class="n">assert</span><span class="p">(</span><span class="n">real_quad_roots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">);</span>
<span class="c1">// (x-5)(x-5) = x^2 - 10x + 25</span>
<span class="n">assert</span><span class="p">(</span><span class="n">real_quad_roots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">);</span>
<span class="c1">// x^2 + 4   no roots</span>
<span class="n">assert</span><span class="p">(</span><span class="n">real_quad_roots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="racket-if-else-if-else-ie-cond">Racket if-else-if-else&hellip; <em>i.e.</em> cond</h4>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">real-quad-roots</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="p">)</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" style="color: inherit">let</a></span> <span class="p">([</span><span class="n">d</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._-))" style="color: inherit">-</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" style="color: inherit">*</a></span> <span class="n">b</span> <span class="n">b</span><span class="p">)</span>
              <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" style="color: inherit">*</a></span> <span class="mi">4</span> <span class="n">a</span> <span class="n">c</span><span class="p">))])</span>
    <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._cond))" style="color: inherit">cond</a></span>
      <span class="p">[(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3c))" style="color: inherit">&lt;</a></span> <span class="n">d</span> <span class="mi">0</span><span class="p">)</span> <span class="mi">0</span><span class="p">]</span>
      <span class="p">[(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3d))" style="color: inherit">=</a></span> <span class="n">d</span> <span class="mi">0</span><span class="p">)</span> <span class="mi">1</span><span class="p">]</span>
      <span class="p">[</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._else))" style="color: inherit">else</a></span>    <span class="mi">2</span><span class="p">])))</span>

<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="n">real-quad-roots</span> <span class="mi">2</span> <span class="mi">-8</span> <span class="mi">-10</span><span class="p">)</span>
              <span class="mi">2</span><span class="p">)</span>
<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="n">real-quad-roots</span> <span class="mi">1</span> <span class="mi">-10</span> <span class="mi">25</span><span class="p">)</span>
              <span class="mi">1</span><span class="p">)</span>
<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="n">real-quad-roots</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">4</span><span class="p">)</span>
              <span class="mi">0</span><span class="p">)</span>

<span class="c1">; We can also use internal defines instead of a let:</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">real-quad-roots2</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="p">)</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="n">d</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._-))" style="color: inherit">-</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" style="color: inherit">*</a></span> <span class="n">b</span> <span class="n">b</span><span class="p">)</span>
               <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" style="color: inherit">*</a></span> <span class="mi">4</span> <span class="n">a</span> <span class="n">c</span><span class="p">)))</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._cond))" style="color: inherit">cond</a></span>
    <span class="p">[(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3c))" style="color: inherit">&lt;</a></span> <span class="n">d</span> <span class="mi">0</span><span class="p">)</span> <span class="mi">0</span><span class="p">]</span>
    <span class="p">[(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3d))" style="color: inherit">=</a></span> <span class="n">d</span> <span class="mi">0</span><span class="p">)</span> <span class="mi">1</span><span class="p">]</span>
    <span class="p">[</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._else))" style="color: inherit">else</a></span>    <span class="mi">2</span><span class="p">]))</span>

<span class="c1">; defines inside functions act just like the let version above, and</span>
<span class="c1">; you can just stick them in there (they don&#39;t have to contain a "body</span>
<span class="c1">; expression" like a let)</span>

<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="n">real-quad-roots2</span> <span class="mi">2</span> <span class="mi">-8</span> <span class="mi">-10</span><span class="p">)</span>
              <span class="mi">2</span><span class="p">)</span>
<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="n">real-quad-roots2</span> <span class="mi">1</span> <span class="mi">-10</span> <span class="mi">25</span><span class="p">)</span>
              <span class="mi">1</span><span class="p">)</span>
<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="n">real-quad-roots2</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">4</span><span class="p">)</span>
              <span class="mi">0</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="c-function-with-structs">C function with structs</h4>

<div class="brush: c">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="kt">float</span> <span class="nf">distance</span><span class="p">(</span><span class="k">struct</span> <span class="n">point</span> <span class="o">*</span><span class="n">p1</span><span class="p">,</span> 
               <span class="k">struct</span> <span class="n">point</span> <span class="o">*</span><span class="n">p2</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">assert</span><span class="p">(</span><span class="n">p1</span> <span class="o">!=</span> <span class="nb">NULL</span> <span class="o">&amp;&amp;</span> <span class="n">p2</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">);</span>

    <span class="kt">int</span> <span class="n">dx</span> <span class="o">=</span> <span class="n">p1</span><span class="o">-&gt;</span><span class="n">x</span> <span class="o">-</span> <span class="n">p2</span><span class="o">-&gt;</span><span class="n">x</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">dy</span> <span class="o">=</span> <span class="n">p1</span><span class="o">-&gt;</span><span class="n">y</span> <span class="o">-</span> <span class="n">p2</span><span class="o">-&gt;</span><span class="n">y</span><span class="p">;</span>

    <span class="k">return</span> <span class="n">sqrt</span><span class="p">((</span><span class="n">dx</span> <span class="o">*</span> <span class="n">dx</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">dy</span> <span class="o">*</span> <span class="n">dy</span><span class="p">));</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="n">point</span> <span class="n">p1</span> <span class="o">=</span> <span class="p">{.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">};</span>
<span class="k">struct</span> <span class="n">point</span> <span class="n">p2</span> <span class="o">=</span> <span class="p">{.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">4</span><span class="p">};</span>
<span class="n">assert</span><span class="p">(</span><span class="n">distance</span><span class="p">(</span><span class="o">&amp;</span><span class="n">p1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">p2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">5</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="racket-function-with-structs">Racket function with structs</h4>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">distance</span> <span class="n">p1</span> <span class="n">p2</span><span class="p">)</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/begin.html#(form._((quote._~23~25kernel)._begin))" style="color: inherit">begin</a></span>
    <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/when_unless.html#(form._((lib._racket/private/letstx-scheme..rkt)._when))" style="color: inherit">when</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/booleans.html#(def._((quote._~23~25kernel)._not))" style="color: inherit">not</a></span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._and))" style="color: inherit">and</a></span> <span class="p">(</span><span class="n">point?</span> <span class="n">p1</span><span class="p">)</span> 
                    <span class="p">(</span><span class="n">point?</span> <span class="n">p2</span><span class="p">)))</span>
      <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/exns.html#(def._((quote._~23~25kernel)._error))" style="color: inherit">error</a></span> <span class="o">'</span><span class="ss">distance</span> <span class="s2">"Error <a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._-))" style="color: inherit">-</a> invalid parameter"</span><span class="p">))</span>
    <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" style="color: inherit">let</a></span> <span class="p">([</span><span class="n">dx</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._-))" style="color: inherit">-</a></span> <span class="p">(</span><span class="n">point-x</span> <span class="n">p1</span><span class="p">)</span>
                 <span class="p">(</span><span class="n">point-x</span> <span class="n">p2</span><span class="p">))]</span>
          <span class="p">[</span><span class="n">dy</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._-))" style="color: inherit">-</a></span> <span class="p">(</span><span class="n">point-y</span> <span class="n">p1</span><span class="p">)</span>
                 <span class="p">(</span><span class="n">point-y</span> <span class="n">p2</span><span class="p">))])</span>
      <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._sqrt))" style="color: inherit">sqrt</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._+))" style="color: inherit">+</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" style="color: inherit">*</a></span> <span class="n">dx</span> <span class="n">dx</span><span class="p">)</span>
               <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" style="color: inherit">*</a></span> <span class="n">dy</span> <span class="n">dy</span><span class="p">))))))</span>

<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="n">p1</span> <span class="p">(</span><span class="n">point</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">))</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="n">p2</span> <span class="p">(</span><span class="n">point</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">))</span>
<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="n">distance</span> <span class="n">p1</span> <span class="n">p2</span><span class="p">)</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table>
</div>

<br />

<h2 id="recrecursive-functions"><a name="rec"></a>Recursive Functions</h2>

<h4 id="c-recursion">C recursion</h4>

<div class="brush: c">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4
5
6
7
8
9</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="kt">long</span> <span class="nf">factorial_rec</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">else</span>
    <span class="k">return</span><span class="p">(</span><span class="n">n</span> <span class="o">*</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">));</span>
<span class="p">}</span>

<span class="n">assert</span><span class="p">(</span><span class="n">factorial</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">==</span> <span class="mi">120</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="racket-recursion">Racket recursion</h4>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4
5
6</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">factorial</span> <span class="n">x</span><span class="p">)</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((quote._~23~25kernel)._if))" style="color: inherit">if</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._zero~3f))" style="color: inherit">zero?</a></span> <span class="n">x</span><span class="p">)</span>
      <span class="mi">1</span>
      <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" style="color: inherit">*</a></span> <span class="n">x</span> <span class="p">(</span><span class="n">factorial</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._sub1))" style="color: inherit">sub1</a></span> <span class="n">x</span><span class="p">)))))</span>

<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="n">factorial</span> <span class="mi">5</span><span class="p">)</span> <span class="mi">120</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="c-recursion-on-linked-lists">C recursion on linked lists</h4>

<div class="brush: c">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="c1">// a non-empty linked list</span>
<span class="c1">// is an element (first) followed by</span>
<span class="c1">// a linked list (the rest)</span>
<span class="k">struct</span> <span class="n">list</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">first</span><span class="p">;</span>
    <span class="k">struct</span> <span class="n">list</span><span class="o">*</span> <span class="n">rest</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">length</span><span class="p">(</span><span class="k">struct</span> <span class="n">list</span><span class="o">*</span> <span class="n">l</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">l</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="k">return</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">length</span><span class="p">(</span><span class="n">l</span><span class="o">-&gt;</span><span class="n">rest</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="n">list</span> <span class="n">node3</span> <span class="o">=</span> <span class="p">{.</span><span class="n">first</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">rest</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">};</span>
<span class="k">struct</span> <span class="n">list</span> <span class="n">node2</span> <span class="o">=</span> <span class="p">{.</span><span class="n">first</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">rest</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">node3</span><span class="p">};</span>
<span class="k">struct</span> <span class="n">list</span> <span class="n">node1</span> <span class="o">=</span> <span class="p">{.</span><span class="n">first</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">rest</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">node2</span><span class="p">};</span>

<span class="n">assert</span><span class="p">(</span><span class="n">length</span><span class="p">(</span><span class="o">&amp;</span><span class="n">node1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="racket-recursion-on-lists">Racket recursion on lists</h4>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="c1">; Lists in Racket?</span>
<span class="p">(</span><span class="n">check-equal?</span> <span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._empty))" style="color: inherit">empty</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._empty))" style="color: inherit">empty</a></span><span class="p">)</span>
<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" style="color: inherit">list</a></span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cons))" style="color: inherit">cons</a></span> <span class="mi">1</span> <span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._empty))" style="color: inherit">empty</a></span><span class="p">))</span>
<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" style="color: inherit">list</a></span> <span class="mi">1</span> <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cons))" style="color: inherit">cons</a></span> <span class="mi">1</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cons))" style="color: inherit">cons</a></span> <span class="mi">2</span> <span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._empty))" style="color: inherit">empty</a></span><span class="p">)))</span>
<span class="c1">; list is shorthand for lists built with cons</span>
<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._first))" style="color: inherit">first</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" style="color: inherit">list</a></span> <span class="mi">1</span> <span class="mi">2</span><span class="p">))</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._rest))" style="color: inherit">rest</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" style="color: inherit">list</a></span> <span class="mi">1</span> <span class="mi">2</span><span class="p">))</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cons))" style="color: inherit">cons</a></span> <span class="mi">2</span> <span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._empty))" style="color: inherit">empty</a></span><span class="p">))</span>

<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._length))" style="color: inherit">length</a></span> <span class="n">l</span><span class="p">)</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._cond))" style="color: inherit">cond</a></span>
    <span class="p">[(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._empty~3f))" style="color: inherit">empty?</a></span> <span class="n">l</span><span class="p">)</span>
     <span class="mi">0</span><span class="p">]</span>
    <span class="p">[</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._else))" style="color: inherit">else</a></span>
     <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._add1))" style="color: inherit">add1</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._length))" style="color: inherit">length</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._rest))" style="color: inherit">rest</a></span> <span class="n">l</span><span class="p">)))]))</span>

<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._length))" style="color: inherit">length</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" style="color: inherit">list</a></span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">4</span><span class="p">))</span> 
              <span class="mi">3</span><span class="p">)</span>
<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._length))" style="color: inherit">length</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cons))" style="color: inherit">cons</a></span> <span class="mi">0</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cons))" style="color: inherit">cons</a></span> <span class="mi">2</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cons))" style="color: inherit">cons</a></span> <span class="mi">4</span> <span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._empty))" style="color: inherit">empty</a></span><span class="p">))))</span> 
              <span class="mi">3</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table>
</div>

<br />

<h2 id="listlists-and-loops"><a name="list"></a>Lists and Loops</h2>

<h4 id="c-recursive-list-building">C recursive list building</h4>

<div class="brush: c">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="c1">// builds list 0 through (i-1) from back</span>
<span class="c1">// to front</span>
<span class="cp">#define make_range(n) range_loop(n, NULL)</span>
<span class="k">struct</span> <span class="n">list</span><span class="o">*</span> <span class="nf">range_loop</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="k">struct</span> <span class="n">list</span> <span class="o">*</span><span class="n">rest</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">struct</span> <span class="n">list</span> <span class="o">*</span><span class="n">new</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">list</span><span class="p">));</span>
        <span class="n">new</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
        <span class="n">new</span><span class="o">-&gt;</span><span class="n">rest</span> <span class="o">=</span> <span class="n">rest</span><span class="p">;</span>

        <span class="k">return</span> <span class="n">range_loop</span><span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">new</span><span class="p">);</span>
    <span class="p">}</span> 
    <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">rest</span><span class="p">;</span>    
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="n">list</span> <span class="o">*</span><span class="n">l</span> <span class="o">=</span> <span class="n">make_range</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="c1">// we verify (painfully) the list is indeed [0, 1, 2]</span>
<span class="n">assert</span><span class="p">(</span><span class="n">l</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">==</span> <span class="mi">0</span><span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="n">l</span><span class="o">-&gt;</span><span class="n">rest</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">==</span> <span class="mi">1</span><span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="n">l</span><span class="o">-&gt;</span><span class="n">rest</span><span class="o">-&gt;</span><span class="n">rest</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">==</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="n">l</span><span class="o">-&gt;</span><span class="n">rest</span><span class="o">-&gt;</span><span class="n">rest</span><span class="o">-&gt;</span><span class="n">rest</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="racket-recursive-list-construction-using-a-let-loop">Racket recursive list construction (using a &ldquo;let-loop&rdquo;)</h4>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="c1">; return list of numbers 0 to (n-1)</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n"><a href="http://docs.racket-lang.org/data/integer-set.html#(def._((lib._data/integer-set..rkt)._make-range))" style="color: inherit">make-range</a></span> <span class="n">n</span><span class="p">)</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" style="color: inherit">let</a></span> <span class="n">range-loop</span> <span class="p">([</span><span class="n">i</span> <span class="n">n</span><span class="p">]</span>
                   <span class="p">[</span><span class="n">l</span> <span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._empty))" style="color: inherit">empty</a></span><span class="p">])</span>
    <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((quote._~23~25kernel)._if))" style="color: inherit">if</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._positive~3f))" style="color: inherit">positive?</a></span> <span class="n">i</span><span class="p">)</span>
        <span class="p">(</span><span class="n">range-loop</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._sub1))" style="color: inherit">sub1</a></span> <span class="n">i</span><span class="p">)</span>
                    <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cons))" style="color: inherit">cons</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._sub1))" style="color: inherit">sub1</a></span> <span class="n">i</span><span class="p">)</span> <span class="n">l</span><span class="p">))</span>
        <span class="n">l</span><span class="p">)))</span>

<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="n"><a href="http://docs.racket-lang.org/data/integer-set.html#(def._((lib._data/integer-set..rkt)._make-range))" style="color: inherit">make-range</a></span> <span class="mi">3</span><span class="p">)</span>
              <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" style="color: inherit">list</a></span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="c-list-sum-with-loop">C list sum with loop</h4>

<div class="brush: c">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="kt">int</span> <span class="nf">listsum</span><span class="p">(</span><span class="k">struct</span> <span class="n">list</span><span class="o">*</span> <span class="n">l</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">struct</span> <span class="n">list</span><span class="o">*</span> <span class="n">i</span> <span class="o">=</span> <span class="n">l</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">sum</span> <span class="o">=</span> <span class="n">sum</span> <span class="o">+</span> <span class="n">i</span><span class="o">-&gt;</span><span class="n">first</span><span class="p">;</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span><span class="o">-&gt;</span><span class="n">rest</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">sum</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// make_range from previous example</span>
<span class="c1">// builds list of 0 through (n-1)</span>
<span class="n">assert</span><span class="p">(</span><span class="n">listsum</span><span class="p">(</span><span class="n">make_range</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span> <span class="o">==</span> <span class="mi">6</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="racket-list-sum-with-for-loop">Racket list sum with for loop</h4>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4
5
6
7
8</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">listsum</span> <span class="n">l</span><span class="p">)</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="n">sum</span> <span class="mi">0</span><span class="p">)</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/begin.html#(form._((quote._~23~25kernel)._begin))" style="color: inherit">begin</a></span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/for.html#(form._((lib._racket/private/base..rkt)._for))" style="color: inherit">for</a></span> <span class="p">([</span><span class="n">i</span> <span class="n">l</span><span class="p">])</span>
           <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/set_.html#(form._((quote._~23~25kernel)._set!))" style="color: inherit">set!</a></span> <span class="n">sum</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._+))" style="color: inherit">+</a></span> <span class="n">sum</span> <span class="n">i</span><span class="p">)))</span>
         <span class="n">sum</span><span class="p">))</span>

<span class="c1">; make-range from previous example</span>
<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="n">listsum</span> <span class="p">(</span><span class="n"><a href="http://docs.racket-lang.org/data/integer-set.html#(def._((lib._data/integer-set..rkt)._make-range))" style="color: inherit">make-range</a></span> <span class="mi">4</span><span class="p">))</span> <span class="mi">6</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="c-list-building-loop">C list building loop</h4>

<div class="brush: c">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="k">struct</span> <span class="n">list</span><span class="o">*</span> <span class="nf">n_evens</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">value</span><span class="p">;</span>
    <span class="k">struct</span> <span class="n">list</span> <span class="o">*</span><span class="n">head</span><span class="p">,</span> <span class="o">*</span><span class="n">prev</span><span class="p">;</span>
    <span class="n">head</span> <span class="o">=</span> <span class="n">prev</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">value</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">i</span><span class="p">;</span>
        <span class="k">struct</span> <span class="n">list</span> <span class="o">*</span><span class="n">new</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">list</span><span class="p">));</span>
        <span class="n">new</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">=</span> <span class="n">value</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">prev</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
            <span class="n">prev</span><span class="o">-&gt;</span><span class="n">rest</span> <span class="o">=</span> <span class="n">new</span><span class="p">;</span>
        <span class="k">else</span>
            <span class="n">head</span> <span class="o">=</span> <span class="n">new</span><span class="p">;</span>
        <span class="n">prev</span> <span class="o">=</span> <span class="n">new</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">prev</span><span class="o">-&gt;</span><span class="n">rest</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>

    <span class="k">return</span> <span class="n">head</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">l</span> <span class="o">=</span> <span class="n">n_evens</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span> <span class="c1">// l = [0, 2, 4]</span>
<span class="n">assert</span><span class="p">(</span><span class="n">l</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">==</span> <span class="mi">0</span><span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="n">l</span><span class="o">-&gt;</span><span class="n">rest</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">==</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="n">l</span><span class="o">-&gt;</span><span class="n">rest</span><span class="o">-&gt;</span><span class="n">rest</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">==</span> <span class="mi">4</span><span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="n">l</span><span class="o">-&gt;</span><span class="n">rest</span><span class="o">-&gt;</span><span class="n">rest</span><span class="o">-&gt;</span><span class="n">rest</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="racket-forlist-loop">Racket for/list loop</h4>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4
5
6
7
8
9</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="c1">; make-range is built into Racket, and is called just range:</span>
<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._range))" style="color: inherit">range</a></span> <span class="mi">3</span><span class="p">)</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" style="color: inherit">list</a></span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">))</span>

<span class="c1">; Builds list of the first n even natural numbers</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">n-evens</span> <span class="n">n</span><span class="p">)</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/for.html#(form._((lib._racket/private/base..rkt)._for/list))" style="color: inherit">for/list</a></span> <span class="p">([</span><span class="n">i</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._range))" style="color: inherit">range</a></span> <span class="n">n</span><span class="p">)])</span>
    <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" style="color: inherit">*</a></span> <span class="mi">2</span> <span class="n">i</span><span class="p">)))</span>

<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="n">n-evens</span> <span class="mi">3</span><span class="p">)</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" style="color: inherit">list</a></span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">4</span><span class="p">))</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="c-loop-that-finds-max-integer">C loop that finds max integer</h4>

<div class="brush: c">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="kt">int</span> <span class="nf">max_in_list</span><span class="p">(</span><span class="k">struct</span> <span class="n">list</span> <span class="o">*</span><span class="n">l</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">max</span> <span class="o">=</span> <span class="n">l</span><span class="o">-&gt;</span><span class="n">first</span><span class="p">;</span>
    <span class="k">struct</span> <span class="n">list</span> <span class="o">*</span><span class="n">i</span> <span class="o">=</span> <span class="n">l</span><span class="o">-&gt;</span><span class="n">rest</span><span class="p">;</span>

    <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">max</span> <span class="o">&lt;</span> <span class="n">i</span><span class="o">-&gt;</span><span class="n">first</span><span class="p">)</span>
            <span class="n">max</span> <span class="o">=</span> <span class="n">i</span><span class="o">-&gt;</span><span class="n">first</span><span class="p">;</span>
        <span class="k">else</span>
            <span class="n">max</span> <span class="o">=</span> <span class="n">max</span><span class="p">;</span>

        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span><span class="o">-&gt;</span><span class="n">rest</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">max</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="n">list</span> <span class="n">l3</span> <span class="o">=</span> <span class="p">{.</span><span class="n">first</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="p">.</span><span class="n">rest</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">};</span>
<span class="k">struct</span> <span class="n">list</span> <span class="n">l2</span> <span class="o">=</span> <span class="p">{.</span><span class="n">first</span> <span class="o">=</span> <span class="mi">99</span><span class="p">,</span> <span class="p">.</span><span class="n">rest</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">l3</span><span class="p">};</span>
<span class="k">struct</span> <span class="n">list</span> <span class="n">l1</span> <span class="o">=</span> <span class="p">{.</span><span class="n">first</span> <span class="o">=</span> <span class="mi">42</span><span class="p">,</span> <span class="p">.</span><span class="n">rest</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">l2</span><span class="p">};</span>
<span class="n">assert</span><span class="p">(</span><span class="n">max_in_list</span><span class="p">(</span><span class="o">&amp;</span><span class="n">l1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">99</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h4 id="racket-forfold-loop-that-finds-max-integer">Racket for/fold loop that finds max integer</h4>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4
5
6
7</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">max-in-list</span> <span class="n">l</span><span class="p">)</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/for.html#(form._((lib._racket/private/base..rkt)._for/fold))" style="color: inherit">for/fold</a></span> <span class="p">([</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._max))" style="color: inherit">max</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._first))" style="color: inherit">first</a></span> <span class="n">l</span><span class="p">)])</span> <span class="p">([</span><span class="n">i</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._rest))" style="color: inherit">rest</a></span> <span class="n">l</span><span class="p">)])</span>
    <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((quote._~23~25kernel)._if))" style="color: inherit">if</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3c))" style="color: inherit">&lt;</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._max))" style="color: inherit">max</a></span> <span class="n">i</span><span class="p">)</span>
        <span class="n">i</span>
        <span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._max))" style="color: inherit">max</a></span><span class="p">)))</span>

<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="n">max-in-list</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" style="color: inherit">list</a></span> <span class="mi">42</span> <span class="mi">99</span> <span class="mi">12</span><span class="p">))</span> <span class="mi">99</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table>
</div>

<br />

<h2 id="otherlast-but-not-least-functional-tools"><a name="other"></a>Last but not least&hellip; Functional tools!</h2>

<p>In addition to various ways to write functions that may resemble code you&rsquo;ve seen in C, there are also a plethora of elegant, beautiful tools at your fingertips which you should start digging into.</p>

<p>For example, you&rsquo;ll want to learn about some of the list functions like filter, map, fold, etc&hellip;</p>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="c1">; returns list with only even numbers</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">only-even</span> <span class="n">l</span><span class="p">)</span>
  <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/private/list..rkt)._filter))" style="color: inherit">filter</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._even~3f))" style="color: inherit">even?</a></span> <span class="n">l</span><span class="p">))</span>

<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="n">only-even</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" style="color: inherit">list</a></span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">))</span>
              <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" style="color: inherit">list</a></span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">4</span><span class="p">))</span>

<span class="c1">; returns list with numbers squared</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">square-list</span> <span class="n">l</span><span class="p">)</span>
  <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/private/map..rkt)._map))" style="color: inherit">map</a></span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" style="color: inherit">λ</a></span> <span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" style="color: inherit">*</a></span> <span class="n">x</span> <span class="n">x</span><span class="p">))</span> <span class="n">l</span><span class="p">))</span>

<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="n">square-list</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" style="color: inherit">list</a></span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span><span class="p">))</span>
              <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" style="color: inherit">list</a></span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">4</span> <span class="mi">9</span> <span class="mi">25</span><span class="p">))</span>

<span class="c1">; takes a list of strings and returns the sum of their lengths</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">str-len-sum</span> <span class="n">lostr</span><span class="p">)</span>
  <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/private/list..rkt)._foldl))" style="color: inherit">foldl</a></span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" style="color: inherit">λ</a></span> <span class="p">(</span><span class="n">str</span> <span class="n">sum</span><span class="p">)</span>
           <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._+))" style="color: inherit">+</a></span> <span class="n">sum</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/strings.html#(def._((quote._~23~25kernel)._string-length))" style="color: inherit">string-length</a></span> <span class="n">str</span><span class="p">)))</span>
         <span class="mi">0</span> 
         <span class="n">lostr</span><span class="p">))</span>

<span class="p">(</span><span class="n">check-equal?</span> <span class="p">(</span><span class="n">str-len-sum</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" style="color: inherit">list</a></span> <span class="s2">"cat"</span> <span class="s2">"dogs"</span> <span class="s2">"ferret"</span><span class="p">))</span>
              <span class="mi">13</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table>
</div>
  <footer>
    <script type="text/javascript">
      !function(d,s,id){
          var js,fjs=d.getElementsByTagName(s)[0];
          if(!d.getElementById(id)){
              js=d.createElement(s);
              js.id=id;
              js.src="//platform.twitter.com/widgets.js";
              fjs.parentNode.insertBefore(js,fjs);
          }
      }(document,"script","twitter-wjs");
    </script>
    <a href="https://twitter.com/share"
       class="twitter-share-button"
       data-url="http://www.example.com/blog/2014/03/24/c-to-racket-examples/"
       data-dnt="true">
      "Tweet"</a>
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
    <g:plusone size="medium" href="http://www.example.com/blog/2014/03/24/c-to-racket-examples/"></g:plusone>
    <script type="text/javascript">
      var disqus_shortname = 'shortname';
      (function() {
          var dsq = document.createElement('script');
          dsq.type = 'text/javascript';
          dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <div id="disqus_thread"></div>
    <ul class="pager">
    <li class="previous">
      <a href="/blog/2014/11/10/dependently-typed-quicksort/">&larr; <em>Dependently Typed Quicksort</em></a>
    </li>
    <li class="next">
      <a href="/blog/2014/02/06/total-list-functions/"><em>Total List Functions</em> &rarr;</a>
    </li>
    </ul>
  </footer>
</article>
        </div>
      </div>
      <footer>
      <hr />
      <p>Blog Feeds: <a href="/feeds/all.rss.xml">RSS</a>, <a href="/feeds/all.atom.xml">Atom</a></p>
      <p><a href="https://twitter.com/andmkent_"
            class="twitter-follow-button"
            data-show-count="false"
            data-lang="en">
           "Follow Andrew M. Kent"
         </a>
         <script type="text/javascript">
           !function(d,s,id){
               var js,fjs=d.getElementsByTagName(s)[0];
               if(!d.getElementById(id)){
                   js=d.createElement(s);
                   js.id=id;
                   js.src="//platform.twitter.com/widgets.js";
                   fjs.parentNode.insertBefore(js,fjs);
               }
           }(document,"script","twitter-wjs");
         </script>
         <a href="https://twitter.com/racketlang"
            class="twitter-follow-button"
            data-show-count="false"
            data-lang="en">
           "Follow RacketLang"
         </a>
         <script type="text/javascript">
           !function(d,s,id){
               var js,fjs=d.getElementsByTagName(s)[0];
               if(!d.getElementById(id)){
                   js=d.createElement(s);
                   js.id=id;
                   js.src="//platform.twitter.com/widgets.js";
                   fjs.parentNode.insertBefore(js,fjs);
               }
           }(document,"script","twitter-wjs");
         </script></p>
        <p>Site generated
        by <a href="https://github.com/greghendershott/frog">Frog</a>,
        the <strong>fr</strong>ozen bl<strong>og</strong> tool,
        using <a href="http://twitter.github.com/bootstrap/index.html">Bootstrap</a>.</p>
        <p><em>Copyright (c) 2015 Andrew M. Kent. All software found on this site should be considered under The MIT License unless otherwise stated</em>.</p>
      </footer>
    </div>
    <!-- </body> JS -->
    <script type="text/javascript" src="//code.jquery.com/jquery.min.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
  </body>
    </html>